<!-- Page content -->
<div class="container-fluid mt-6">
    <div class="row">
      <div class="col-xl order-xl-1">
        <% if(message.success){ %>
          <div class="alert alert-success alert-dismissible fade show" role="alert">
            <span class="alert-text"><strong>Success!</strong> <%= message.success %></span>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        <% } %>
        <% if(message.error){ %>
          <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <span class="alert-text"><strong>Error!</strong> <%= message.error %></span>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        <% } %>
        <div class="card">
          <div class="card-header">
            <div class="row align-items-center">
              <div class="col-8">
                <h3 class="mb-0">Edit Role </h3>
              </div>
              <div class="col-4 text-right">
                <a href="#!" class="btn btn-sm btn-primary">Settings</a>
              </div>
            </div>
          </div>
          <div class="card-body">
            <form action="/edit-role/<%= role._id %>" method="post">
              <h6 class="heading-small text-muted mb-4">Role information</h6>
              <div class="pl-lg-4">
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="form-control-label" for="input-name">Name</label>
                      <input class="form-control" placeholder="name" type="text" id="name" name="name" value="<%= role.name %>" required>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="form-control-label" for="input-name">Permissions</label>
                
                      <% permissionsList.forEach(permission => { %>
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" id="<%= 'permission-' + permission.name %>" name="permissions" value="<%= permission._id %>" <% if (role.permissions && role.permissions.includes(permission._id)) { %>checked<% } %>>
                          <label class="form-check-label" for="<%= 'permission-' + permission.name %>"><%= permission.name %></label>
                        </div>
                      <% }); %>
                
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-12">
                    <button type="submit" class="btn btn-primary">Edit</button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>  